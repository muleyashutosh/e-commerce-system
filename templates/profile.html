{% extends "base.html" %} {% block title %} Profile {% endblock %} {% block head
%}
<link
  rel="stylesheet"
  href="{{url_for('static', filename = 'styles/profile.css')}}"
/>
<link rel="preconnect" href="https://fonts.gstatic.com" />
<link
  href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>
{% endblock %} {% block body %}
<div id="main" class="mdc-elevation--z2">
  <div class="subHeading">
    <h2>Account Details</h2>
    <div id="icon">
      <span class="material-icons material-icons-outlined">
        manage_accounts
      </span>
    </div>
  </div>
  <hr />
  <div id="forms">
    <form name="profile" action="/Profile" id="profdet" method="POST">
      <div class="inputl">
        <label for="fname">First name:</label><br />
        <input
          type="text"
          id="fname"
          class="input2a"
          name="firstname"
          value="{{user[0]['firstname']}}"
          required
        /><br /><br />
      </div>
      <div class="inputr">
        <label for="lname">Last name:</label><br />
        <input
          type="text"
          id="lname"
          class="input2a"
          name="lastname"
          value="{{user[0]['lastname']}}"
          required
        /><br /><br />
      </div>
      <div class="inputl">
        <label for="mno">Mobile No:</label>
        <label id="error3" class="errMsg"> Already registered. </label><br />
        <input
          type="tel"
          id="mno"
          pattern="[1-9][0-9]{9}"
          class="input2b"
          name="pno"
          value="{{user[0]['pno']}}"
          required
        /><br /><br />
      </div>
      <div class="inputr">
        <label for="email">Email:</label>
        <label id="error4" class="errMsg2"> Already registered. </label><br />
        <input
          type="email"
          id="email"
          class="input2b"
          name="email"
          value="{{user[0]['email']}}"
          autocomplete="email"
          required
        /><br /><br />
      </div>
      <div class="inputl">
        <label for="address">Address:</label><br />
        <input
          type="text"
          id="add"
          class="input2a"
          name="address"
        /><br /><br />
      </div>
      <div class="inputr">
        <label for="pinCode">Pincode:</label><br />
        <input
          type="text"
          id="pcode"
          class="input2a"
          name="pinCode"
        /><br /><br />
      </div>
      <div class="inputl">
        <label for="state">State:</label><br />
        <input
          type="text"
          id="state"
          class="input2b"
          name="state"
        /><br /><br />
      </div>
      <div class="inputr">
        <label for="city">City:</label><br />
        <input type="text" id="city" class="input2b" name="city" /><br /><br />
      </div>
      <div class="inputl">
        <label for="joinDate">Join Date:</label><br />
        <input
          type="text"
          id="jdate"
          class="input2a"
          name="joinDate"
          value="{{user[0]['joinDate']}}"
          readonly
        /><br /><br />
      </div>
      <!-- <div class="inputr">
        <label for="pwd">Password:</label><br />
        <input
          type="password"
          id="pwd"
          class="input2b"
          name="pwd"
          autocomplete="current-password"
        />
        <img
          id="eye"
          onclick="showPass()"
          src="https://ik.imagekit.io/milyzn5unt/e-commerce-system/showPassNormal_hI4WkY3i2z.svg"
        />
      </div> -->
      <hr />
      <br />
      <div>
        <div style="position: relative">
          <label style="font-weight: bold" for="paymentId">Payments:</label>
          <div id="addpay" class="dropDown1">
            <div class="mdc-touch-target-wrapper">
              <button
                class="mdc-fab mdc-fab--mini mdc-fab--touch"
                id="dropbtn1"
              >
                <div class="mdc-fab__ripple"></div>
                <span class="material-icons mdc-fab__icon">add</span>
                <div class="mdc-fab__touch"></div>
              </button>
            </div>
            <div class="dropdown-content1" id="drop-content1">
              <div class="cardClass">
                <div class="mdc-touch-target-wrapper">
                  <button
                    class="
                      mdc-icon-button mdc-icon-button--touch
                      material-icons
                    "
                    onclick="Card('card')"
                    id="card"
                  >
                    <div class="mdc-icon-button__ripple"></div>
                    credit_card
                    <div class="mdc-icon-button__touch"></div>
                  </button>
                </div>
              </div>
                <div class="mdc-touch-target-wrapper">
                  <button
                    class="
                      mdc-icon-button mdc-icon-button--touch
                      upiCLass
                    "
                    id="upi"
                    onclick="Card('upi')"
                  >
                    <div class="mdc-icon-button__ripple"></div>
                    <div class="mdc-icon-button__touch">
                    </div>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br />
        <div style="text-align: center; margin-top:15px;" id="status">
          <label style="color: #888888">No Payment Methods Selected</label>
        </div>
        <div id="Card" style="display: none" class="marginTop">
          <label>Card Details</label>

          <div
            class="close material-icons material-icons-outlined"
            type="button"
            onclick="Close('Card')"
            id="closec"
          >
            cancel
          </div>
          <br />
          <div class="inputl">
            <input
              type="text"
              id="acctname"
              placeholder="Name on Card"
              class="input2a"
              name="cardName"
            />
          </div>
          <div class="inputr">
            <input
              type="text"
              id="bname"
              placeholder="Name of Bank"
              class="input2b"
              name="bankName"
            />
          </div>
          <br /><br />
          <label id="error5" class="errMsg2"> Already registered. </label>
          <div class="inputl">
            <input
              type="tel"
              pattern="[0-9]{16}"
              title="Enter 16 Digit Number"
              id="cardnum"
              placeholder="Card Number"
              class="input2a"
              name="cardNum"
            />
          </div>
          <div style="display: inline">
            <input
              type="tel"
              pattern="[1-9][0-9]{2}"
              title="Enter 3 digit CVV"
              id="cvv"
              class="temp"
              placeholder="CVV"
              name="cvv"
            />
          </div>
          <div class="inputr" style="width: 25%">
            <input
              type="text"
              onfocusout="(this.type='text')"
              onfocus="(this.type='date')"
              id="expdate"
              placeholder="Expiry Date"
              class="input2b"
              name="expDate"
            />
          </div>
          <br /><br />
        </div>
        <hr id="paymentseparator" style="opacity: 0.5; display: none" />
        <div id="UPI" style="display: none" class="marginTop">
          <label>UPI Details</label>
          <label id="error6" class="errMsg2"> Already registered. </label>

          <div
            class="close material-icons material-icons-outlined"
            type="button"
            onclick="Close('UPI')"
            id="closeu"
          >
            cancel
          </div>
          <br />
          <div class="inputl">
            <input
              type="email"
              id="upiid"
              placeholder="UPI Id"
              class="input2a"
              name="upiID"
            />
          </div>
        </div>
      </div>
      <div class="submitButtonContainer">
        <button
          id="button"
          class="mdc-button apply-button mdc-button--raised"
          type="submit"
        >
          <span class="mdc-button__ripple"></span>
          <span class="mdc-button__label">Submit</span>
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %} {% block scripts %} {% if login_status == 'customers.pno_UNIQUE'
%}
<script>
  document.getElementById("error3").style.display = "inline";
</script>
{% endif %} {% if login_status == 'customers.email_UNIQUE' %}
<script>
  document.getElementById("error4").style.display = "inline";
</script>

{% endif %} {% if login_status == 'upidet.upiID' %}
<script>
  document.getElementById("error6").style.display = "inline";
  document.getElementById("UPI").style.display = "";
</script>
{% endif %} {% if login_status == 'carddet.CardNum' %}
<script>
  document.getElementById("error5").style.display = "inline";
  document.getElementById("Card").style.display = "";
</script>
{% endif %} {% if payinfo is not none %} {% if 'carddetailID' in payinfo %}
<script>
  document.getElementById("status").style.display = "none";
  document.getElementById("Card").style.display = "";
  document.getElementById("card").style.display = "none";
</script>
{% endif %} {% if 'upidetailID' in payinfo %}
<script>
  document.getElementById("status").style.display = "none";
  document.getElementById("UPI").style.display = "";
  document.getElementById("upi").style.display = "none";
</script>
{% endif %} {% if 'carddetailID' in payinfo and 'upidetailID' in payinfo %}
<script>
  document.getElementById("addpay").style.display = "none";
  document.getElementById("paymentseparator").style.display = "block";
</script>
{% endif %} {% endif %}
<script>
  const user = {
    address: "{{user[0]['address']}}",
    state: "{{user[0]['address']}}",
    pinCode: "{{user[0]['pinCode']}}",
    city: "{{user[0]['city']}}",
  };

  const payinfo = {
    cardName: "{{payinfo['cardName']}}",
    bankName: "{{payinfo['bankName']}}",
    cardNum: "{{payinfo['cardNum']}}",
    cvv: "{{payinfo['cvv']}}",
    expDate: "{{payinfo['expDate']}}",
    upiID: "{{payinfo['upiID']}}",
  };
</script>
<script src='{{ url_for("static", filename="scripts/profile.js")}}'></script>

{% endblock %}
