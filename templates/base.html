<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %} {% endblock %}</title>
        <link rel="icon" href="https://ik.imagekit.io/milyzn5unt/e-commerce-system/shopping-cart_g2lAzjYlj.svg" type="image/x-icon">
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="{{url_for('static', filename = 'styles/base.css')}}">
        <script src="https://kit.fontawesome.com/d591665a2d.js" crossorigin="anonymous"></script>
        {% block head %} {% endblock %}
    <body>
        <div id='header' class = 'headerClass col-12'>   
            <h2><a href='{{ url_for('home') }}'>El Carto</a></h2>
            <a title= 'Logout' href="{{ url_for('logout')}}"><div class = 'logout'></div></a>
            <div class='dropDown'>
                <a id = 'dropbtn' title= 'Profile' onclick='myFunction();'><div id='dropbtn' onclick='myFunction();' class="fas fa-user profile"></div></a>
                <div class = 'dropdown-content' id = 'drop-content'>
                    <a id="route" href="{{ url_for('profile') }}">Hello, {{ firstname }}</a>
                    <a href="#">My Orders</a>
                </div>
            </div>
            <a id = 'cart' title= 'Cart' href="{{ url_for('cart') }}"><div class = 'cart'></div></a>
        </div>
        <div id = 'content'>
            {% block body %} {% endblock %}
        </div>
        
    </body>


    <script>
    function myFunction() {
        document.getElementById('drop-content').style.display = 'block';
    }

    window.onclick = function(e) {
    if (!e.target.matches('#dropbtn')) {
        var myDropdown = document.getElementById("drop-content");
        myDropdown.style.display = 'none';
    }
    }

    window.onscroll = function(){makeSticky();}
    var header = document.getElementById('header')
    var sticky = header.offsetTop;
    function makeSticky() {
        if(window.pageYOffset > sticky) {
            header.classList.add('sticky');
        }
        else {
            header.classList.remove('sticky');
        }
    }



    </script>
    {% block scripts %} {% endblock %}
    


</html>
